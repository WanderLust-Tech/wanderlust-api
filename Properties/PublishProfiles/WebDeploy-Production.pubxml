<?xml version="1.0" encoding="utf-8"?>
<!--
Web Deploy Publishing Profile for IIS deployment with Web Deploy
-->
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <WebPublishMethod>MSDeploy</WebPublishMethod>
    <LastUsedBuildConfiguration>Release</LastUsedBuildConfiguration>
    <LastUsedPlatform>Any CPU</LastUsedPlatform>
    <SiteUrlToLaunchAfterPublish>https://your-domain.com</SiteUrlToLaunchAfterPublish>
    <LaunchSiteAfterPublish>True</LaunchSiteAfterPublish>
    <ExcludeApp_Data>False</ExcludeApp_Data>
    <ProjectGuid>$(ProjectGuid)</ProjectGuid>
    <MSDeployServiceURL>https://your-server.com:8172/msdeploy.axd</MSDeployServiceURL>
    <DeployIisAppPath>WanderlustApi</DeployIisAppPath>
    <RemoteSitePhysicalPath />
    <SkipExtraFilesOnServer>True</SkipExtraFilesOnServer>
    <MSDeployPublishMethod>WMSVC</MSDeployPublishMethod>
    <EnableMSDeployBackup>True</EnableMSDeployBackup>
    <UserName>$(WebDeployUsername)</UserName>
    <Password>$(WebDeployPassword)</Password>
    <TargetFramework>net8.0</TargetFramework>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <SelfContained>false</SelfContained>
    <PublishSingleFile>false</PublishSingleFile>
    <PublishReadyToRun>true</PublishReadyToRun>
    <PublishTrimmed>false</PublishTrimmed>
    <EnvironmentName>Production</EnvironmentName>
  </PropertyGroup>
  
  <!-- Web Deploy specific settings -->
  <PropertyGroup>
    <MSDeployUseChecksum>True</MSDeployUseChecksum>
    <EnableMSDeployAppOffline>True</EnableMSDeployAppOffline>
    <MSDeployPublishMethod>WMSVC</MSDeployPublishMethod>
  </PropertyGroup>
  
  <!-- Skip certain files during deployment -->
  <ItemGroup>
    <MsDeploySkipRules Include="SkipConfigFiles">
      <ObjectName>filePath</ObjectName>
      <AbsolutePath>appsettings\.Development\.json$</AbsolutePath>
    </MsDeploySkipRules>
    <MsDeploySkipRules Include="SkipDebugFiles">
      <ObjectName>filePath</ObjectName>
      <AbsolutePath>\.pdb$</AbsolutePath>
    </MsDeploySkipRules>
  </ItemGroup>
</Project>
